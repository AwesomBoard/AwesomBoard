<svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="auto"
     viewBox="0 0 800 800"
     preserveAspectRatio="xMidYMid meet">
    <g *ngFor="let z of [0, 1, 2]">
        <g *ngFor="let y of getLevelRange(z)">
            <g *ngFor="let x of getLevelRange(z)">
                <ng-container *ngIf="isDrawable(x, y, z)">
                    <circle id="click_{{x}}_{{y}}_{{z}}"
                            (click)="onClick(x, y, z)"
                            [attr.r]="getPieceRay(z)"
                            [attr.cx]="getPieceCx(x, y, z)"
                            [attr.cy]="getPieceCy(x, y, z)"
                            [ngClass]="getCaseClasses(x, y, z)"
                            class="base"
                    />
                    <circle *ngIf="isOccupied(x, y, z)"
                            (click)="onClick(x, y, z)"
                            [attr.r]="getPieceRay(z) - 16"
                            [attr.cx]="getPieceCx(x, y, z)"
                            [attr.cy]="getPieceCy(x, y, z)"
                            [ngClass]="getPieceClasses(x, y, z)"
                            class="base"
                    />
                </ng-container>
            </g>
        </g>
    </g>
</svg>

