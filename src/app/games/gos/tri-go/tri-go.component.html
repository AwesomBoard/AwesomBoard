<svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="100%"
     [attr.viewBox]="getViewBox().toSVGString()"
     preserveAspectRatio="xMidYMid meet">
    <g *ngFor="let coordAndContent of getState().getCoordsAndContents()"
       id="click-{{ coordAndContent.coord.x }}-{{ coordAndContent.coord.y }}"
       [attr.transform]="getTriangleTranslationAt(coordAndContent.coord)"
       (click)="onClick(coordAndContent.coord)">
        <polygon *ngIf="coordAndContent.content.isReachable()"
                 id="polygon-{{ coordAndContent.coord.x }}-{{ coordAndContent.coord.y }}"
                 [attr.points]="getTrianglePointsAt(coordAndContent.coord)"
                 [ngClass]="getPlayerClassAt(coordAndContent.coord)"
                 class="base mid-stroke"
        />
    </g>
    <rect *ngIf="ko.isPresent()"
          [attr.transform]="getTriangleTranslationAt(ko.get())"
          [attr.width]="SPACE_SIZE * 0.5"
          [attr.height]="SPACE_SIZE * 0.5"
          [attr.x]="(SPACE_SIZE * 0.25) + (SPACE_SIZE * ko.get().x)"
          [attr.y]="(SPACE_SIZE * 0.25) + (SPACE_SIZE * ko.get().y)"
          class="captured-stroke mid-stroke no-fill"
    />
    <!-- TODO TEST KO IN BOTH -->
</svg>