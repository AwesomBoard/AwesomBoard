<svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="100%"
     [attr.viewBox]="getViewBox().toSVGString()"
     preserveAspectRatio="xMidYMid meet">
    <g *ngFor="let coordAndContent of getState().getCoordsAndContents()"
       id="click-{{ coordAndContent.coord.x }}-{{ coordAndContent.coord.y }}"
       [attr.transform]="getTriangleTranslation(coordAndContent.coord.x, coordAndContent.coord.y)"
       (click)="onClick(coordAndContent.coord)">
        <g *ngIf="coordAndContent.content.isReachable()">
            <g *ngIf="coordAndContent.content.isOccupied()">
                <polygon id="pyramid-{{ coordAndContent.coord.x }}-{{ coordAndContent.coord.y }}"
                         [attr.points]="getPyramidPointsAt(coordAndContent.coord)"
                         [ngClass]="getPlayerClassAt(coordAndContent.coord)"
                         class="base mid-stroke"
                />
            </g>
            <g *ngIf="coordAndContent.content.isEmpty()">
                <polygon *ngIf="(coordAndContent.coord.x + coordAndContent.coord.y) % 2 === 1"
                         id="triangle-{{ coordAndContent.coord.x }}-{{ coordAndContent.coord.y }}"
                         [attr.points]="getTrianglePointsAt(coordAndContent.coord)"
                         class="base mid-stroke"
                />
                <polygon *ngIf="(coordAndContent.coord.x + coordAndContent.coord.y) % 2 === 0"
                         id="triangle-{{ coordAndContent.coord.x }}-{{ coordAndContent.coord.y }}"
                         [attr.points]="getTrianglePointsAt(coordAndContent.coord)"
                         class="base mid-stroke background2"
                />
            </g>
        </g>
    </g>
</svg>