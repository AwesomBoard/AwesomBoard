<svg xmlns="http://www.w3.org/2000/svg"
     width="100%" height="auto"
     viewBox="-100 -100 1000 1100"
     preserveAspectRatio="xMidYMid meet">
    <g *ngFor="let line of viewInfo.boardInfo; index as y">
        <g *ngFor="let square of line; index as x"
           (click)="onClick(square.coord)">
            <rect *ngIf="square.crumbled === false"
                  id="click_{{ x }}_{{ y }}"
                  class="base"
                  [ngClass]="square.squareClasses"
                  [attr.x]="(SPACE_SIZE * x) + STROKE_WIDTH"
                  [attr.y]="(SPACE_SIZE * y) + STROKE_WIDTH"
                  [attr.width]="SPACE_SIZE"
                  [attr.height]="SPACE_SIZE"
            />
            <circle *ngIf="square.hasPiece"
                    id="piece_{{ x }}_{{ y }}"
                    class="base"
                    [ngClass]="square.pieceClasses"
                    [attr.r]="PIECE_RADIUS"
                    [attr.cx]="(SPACE_SIZE * x) + STROKE_WIDTH + (SPACE_SIZE / 2)"
                    [attr.cy]="(SPACE_SIZE * y) + STROKE_WIDTH + (SPACE_SIZE / 2)"
             />
        </g>
    </g>
    <g *ngFor="let direction of viewInfo.availableLodestones; index as y">
        <circle id="lodestone_{{ direction }}_orthogonal"
                class="base"
                [ngClass]="viewInfo.currentPlayerClass"
                [attr.r]="PIECE_RADIUS"
                [attr.cx]="STROKE_WIDTH + SPACE_SIZE / 2 + SPACE_SIZE * y"
                [attr.cy]="9 * SPACE_SIZE + SPACE_SIZE / 2"
                />
        <circle id="lodestone_{{ direction }}_diagonal"
                class="base"
                [ngClass]="viewInfo.currentPlayerClass"
                [attr.r]="PIECE_RADIUS"
                [attr.cx]="STROKE_WIDTH + SPACE_SIZE / 2 + SPACE_SIZE * y + SPACE_SIZE"
                [attr.cy]="9 * SPACE_SIZE + SPACE_SIZE / 2"
                />
    </g>
</svg>
